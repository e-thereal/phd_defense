\usepackage{calc,verbatim,amsmath,dsfont,subfig,setspace,varwidth}
%\usepackage{media9}
\usepackage{amsmath}
\newcommand{\data}{\mathcal{D}}
\newcommand{\given}{\mid}
\newcommand{\E}{\ensuremath{\mathds{E}}}
\newcommand{\thetas}{\boldsymbol{\theta}}

\usepackage{fontawesome}
\usepackage{graphicx}

\newcommand{\pros}{\item[\textcolor{green!80!black}\faThumbsOUp]}
\newcommand{\cons}{\item[\textcolor{red!80!black}\faThumbsODown]}

% Setup appearance:

\usetheme{Frankfurt}

\usefonttheme[onlylarge]{structurebold}
\setbeamerfont*{frametitle}{size=\normalsize,series=\bfseries}
\setbeamertemplate{navigation symbols}{}

\definecolor{ubcblue}{RGB}{0,40,89}
\definecolor{ubcgray}{RGB}{116,145,163}

\setbeamercolor{section in toc}{fg=ubcblue,bg=white}
\setbeamercolor{alerted text}{fg=ubcblue}
\setbeamercolor*{palette primary}{fg=white,bg=ubcblue}
\setbeamercolor*{palette secondary}{fg=ubcblue,bg=ubcblue}
\setbeamercolor*{palette tertiary}{fg=white,bg=ubcblue}
\setbeamercolor*{palette quaternary}{fg=ubcgray!50!white,bg=ubcblue}

\setbeamercolor{item projected}{bg=ubcblue,fg=white}
\setbeamercolor{block title}{bg=ubcgray}
\setbeamercolor{block body}{bg=ubcgray!20!white}
\setbeamercolor{description item}{fg=ubcblue}
\setbeamercolor{caption name}{fg=ubcblue}

\setbeamerfont*{frametitle}{size=\Large}
\setbeamerfont*{title}{size=\Large}
\setbeamerfont*{section in toc}{size=\large}
\setbeamerfont*{block title}{}
\setbeamerfont*{item projected}{size=\footnotesize}
\setbeamerfont*{alerted text}{series=\bfseries}

\usepackage[english]{babel}
\usepackage[latin1]{inputenc}
\usepackage{animate}

\usepackage{times}
\renewcommand*\sfdefault{uop}

\usepackage[T1]{fontenc}

\usepackage[vlined]{algorithm2e}
\SetNlSty{}{}{}
\SetArgSty{}
\DontPrintSemicolon

% Setup TikZ

\usepackage{tikz,pgfplots,siunitx,xfrac,comment,booktabs,etoolbox,multirow}
\robustify\bfseries
\newcommand{\minitab}[2][l]{\begin{tabular}{@{}#1@{}}#2\end{tabular}}

\sisetup{
  seperr,
  %repeatunits=false,
  product-units = single,
  trapambigerr=false,
  trapambigrange=false,
  %tophrase={{ bis }},
  valuemode=math,
  unitmode=math,
  quotient-mode=fraction,
  fraction-function=\sfrac
}

\usetikzlibrary{arrows,fadings,fit,positioning,spy,shapes.geometric}
\usetikzlibrary{matrix,shadows,decorations,backgrounds,scopes}
\usetikzlibrary{intersections,3d,calc,decorations.pathreplacing}

\pgfdeclarelayer{background}
\pgfsetlayers{background,main}
%\pgfplotsset{every extra y tick/.append style={grid style=black}}

\newcounter{slidenumber}
\newcounter{pagesofcurrentframe}
\newlength{\slidenumberwidth}

\setbeamertemplate{footline}{
\setcounter{slidenumber}{\insertpagenumber}%
\addtocounter{slidenumber}{-\insertframestartpage}%
\addtocounter{slidenumber}{1}%
\setcounter{pagesofcurrentframe}{\insertframeendpage}
\addtocounter{pagesofcurrentframe}{-\insertframestartpage}
\addtocounter{pagesofcurrentframe}{1}
\normalfont 
\leavevmode
\hbox{
\begin{beamercolorbox}[wd=.98\paperwidth,ht=2.5ex,dp=2.125ex,leftskip=.3cm,rightskip=.3cm]{title in head/foot_}
\insertauthor
\hfill 
\insertshorttitle
\hfill
\settowidth{\slidenumberwidth}{\inserttotalframenumber}
\ifnum\value{pagesofcurrentframe}>1
\tikz[baseline=(char.base)] {
	\node[inner sep=0pt, text width=\slidenumberwidth,align=right] (char)
   	{\insertframenumber};
}%
\tikz[baseline=(char.base)] {
	\node[inner sep=0pt, text width=1em,align=left] (char)
   	{\alph{slidenumber}};
}
\else
\tikz[baseline=(char.base)] {
	\node[inner sep=0pt, text width=\slidenumberwidth,align=right] (char)
   	{\insertframenumber};
}%
\tikz[baseline=(char.base)] {
	\node[inner sep=0pt, text width=1em,align=left] (char)
   	{};
}
\fi
  \end{beamercolorbox}
}
}

\newcommand{\vect}[1]{\mathbf{#1}}

\newcommand{\watermarklogo}{\includegraphics[width=4.5cm]{images/ubcblue.png}}

\usebackgroundtemplate{
\parbox[b][\paperheight+1.75cm]{\paperwidth+1cm}{
	\hfill\tikz 
	\node {\watermarklogo}
	node[fill=white,path fading=south,fading angle=45] {\phantom{\watermarklogo}}%
	node[fill=white,opacity=0.76] {\phantom{\watermarklogo}};
}
}

\newenvironment{questionmarks}{%
\usebackgroundtemplate{\parbox[b][%
\paperheight+1.45cm%
]{%
\paperwidth+1.45cm%
}{%
\hfill\tikz% 
\node {\includegraphics[width=0.55\textwidth]{images/ubcquestions.png}}% 
node[fill=white,path fading=south,fading angle=45]%
{\phantom{\includegraphics[width=0.55\textwidth]{images/ubcquestions.png}}}%
node[fill=white,opacity=0.3]%
{\phantom{\includegraphics[width=0.55\textwidth]{images/ubcquestions.png}}}; }}%
}{%
\usebackgroundtemplate{%
\parbox[b][\paperheight+1.75cm]{\paperwidth+1cm}{%
	\hfill\tikz %
	\node {\watermarklogo}%
	node[fill=white,path fading=south,fading angle=45] {\phantom{\watermarklogo}}%
	node[fill=white,opacity=0.76] {\phantom{\watermarklogo}};%
}%
}%
}